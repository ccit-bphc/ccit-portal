{% extends 'complaints/base.html' %}

{% block navbar %}
{% if user.is_authenticated %}
{% if user.is_staff or user.is_nucleus %}
<li><a href="{% url 'complaint-display' %}">All Complaints</a></li>
{%else%}
<li><a href="{% url 'previous-requests' %}">My Complaints</a></li>
{%endif%}
{% if not user.is_staff and not user.is_nucleus %}
<li class="active"><a href="{% url 'complaint-register' %}">Register Complaints</a></li>
{%endif%}
<li><a href="{% url 'unblock-request' %}">URL Unblock Request</a></li>
{%endif%}
<li><a href="/contact">Contact Us</a></li>
</ul>
<ul class="nav navbar-nav navbar-right">
   {% if user.is_authenticated %}
   <li><a>User: {{user.username}}</a></li>
   <li><a href="/logout"><i class="fa fa-power-off"></i> Logout</a></li>
   {%else%}
   <li><a href="/login"><span class="glyphicon glyphicon-user"></span> Login</a></li>
   {%endif%}
</ul>
</div>
</div>
</nav>
<div class="container">
   <div class="row">
      <div class="col-md-6 col-md-offset-3">
         <form class="form-horizontal" action="{% url 'complaint-register' %}" method="post">
            {% csrf_token %}
            <fieldset>
               <legend class="text-center">Complaint Details</legend>
               {%endblock%}
               {% block content %}
               <div class="form-group">
                  <center>
                     <select id="option" name="category" class="form-control form-control-sm" a="true"
                        style="width:200px;">
                        <option value="none">Choose a Category</option>
                        <option value="WF">WiFi</option>
                        <option value="LN">Lan</option>
                        <option value="SF">Sophos Firewall</option>
                     </select>
                  </center>
               </div>
               <div id="other3" style="display:none;">
                  <div class="form-group">
                     <label class="col-md-3 control-label" for="message">Complaint Details</label>
                     <div class="col-md-9">
                        <textarea class="form-control" a="true" id="message" name="remark"
                           placeholder="Please enter your message here..." rows="5" required></textarea>
                     </div>
                  </div>
                  <div class="form-group row">
                     <label class="col-md-3 control-label" for="message">-</label>
                     <div class="col-md-9">
                        <label for="default" class="btn btn-default" onclick="urg_fun()" style="position:relative;">
                           <b>Urgency</b><input name="urgency" type="checkbox" id="default" class="badgebox"><span
                              class="badge">&check;</span>
                        </label>
                     </div>
                  </div>
                  <div class="form-group" id="urg_reason" style="display:none;">
                     <label class="col-md-3 control-label" for="name">Urgency Reason</label>
                     <div class="col-md-9">
                        <input id="urgency_reason" name="urgency_reason" type="text" placeholder=""
                           class="form-control">
                     </div>
                  </div>
                  <div class="form-group">
                     <label class="col-md-3 control-label" for="name">Room number</label>
                     <div class="col-md-9">
                        <input id="room_no" name="room_no" type="text" placeholder="" class="form-control" required>
                     </div>
                  </div>
                  <div class="form-group">
                     <label class="col-md-3 control-label" for="name">Availability</label>
                     <div class="col-md-9">
                        <input type="time" id="time" onchange="timerecord1()" value="16:00:00" required>
                        &nbsp;&nbsp;to&nbsp;&nbsp;
                        <input type="time" id="time2" onchange="timerecord2()" value="18:00:00" required>
                        <p style="display:none;" id="time_alert"><br>The difference between times must be at least 1
                           hour</p>
                        <input type="hidden" id="hiddentime" name="avail_start_time" value="16:00:00">
                        <input type="hidden" id="hiddentime2" name="avail_end_time" value="18:00:00">
                     </div>
                  </div>
                  <div class="form-group">
                     <label class="col-md-3 control-label" for="email">Contact no.</label>
                     <div class="col-md-9">
                        <input id="contact_no" name="contact_no" type="text" placeholder="" class="form-control"
                           required>
                     </div>
                  </div>
                  <div class="form-group">
                     <div class="text-center">
                        <button id="b1" type="submit" class="btn btn-primary"
                           style="background:#444444;border-color:black;">Submit</button>
                     </div>
                  </div>
               </div>
         </form>

      </div>
   </div>
</div>

{% endblock %}